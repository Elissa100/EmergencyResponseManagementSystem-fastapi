{"ast":null,"code":"var _jsxFileName = \"/home/trent/Documents/python/projects/erms_fastApi/frontend/src/components/Analytics.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'chart.js/auto';\nimport { Container } from 'react-bootstrap';\nimport { Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Analytics = () => {\n  _s();\n  const [analytics, setAnalytics] = useState(null);\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      try {\n        const result = await axios.get('http://127.0.0.1:8000/analytics/');\n        setAnalytics(result.data);\n      } catch (error) {\n        console.error('Error fetching analytics', error);\n      }\n    };\n    fetchAnalytics();\n  }, []);\n  if (!analytics) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading analytics...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 12\n    }, this);\n  }\n  const data = {\n    labels: analytics.emergenciesByType.map(item => item.type),\n    datasets: [{\n      data: analytics.emergenciesByType.map(item => item.count),\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40']\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pie, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Analytics, \"WPSr7bOypwevwNArEcPKssWO94A=\");\n_c = Analytics;\nexport default Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Pie","jsxDEV","_jsxDEV","Analytics","_s","analytics","setAnalytics","fetchAnalytics","result","get","data","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","labels","emergenciesByType","map","item","type","datasets","count","backgroundColor","className","_c","$RefreshReg$"],"sources":["/home/trent/Documents/python/projects/erms_fastApi/frontend/src/components/Analytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'chart.js/auto';\nimport { Container } from 'react-bootstrap';\nimport { Pie } from 'react-chartjs-2';\n\nconst Analytics = () => {\n  const [analytics, setAnalytics] = useState(null);\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      try {\n        const result = await axios.get('http://127.0.0.1:8000/analytics/');\n        setAnalytics(result.data);\n      } catch (error) {\n        console.error('Error fetching analytics', error);\n      }\n    };\n    fetchAnalytics();\n  }, []);\n  if (!analytics) {\n    return <p>Loading analytics...</p>;\n  }\n  const data = {\n    labels: analytics.emergenciesByType.map(item => item.type),\n    datasets: [\n      {\n        data: analytics.emergenciesByType.map(item => item.count),\n        backgroundColor: [\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#4BC0C0',\n          '#9966FF',\n          '#FF9F40',\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#4BC0C0',\n          '#9966FF',\n          '#FF9F40',\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#4BC0C0',\n          '#9966FF',\n          '#FF9F40'\n        ],\n      },\n    ],\n  };\n  return (\n    <Container className=\"mt-5\">\n      <h2>Analytics</h2>\n      <Pie data={data} />\n    </Container>\n  );\n};\nexport default Analytics;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,eAAe;AACtB,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,GAAG,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAChDC,SAAS,CAAC,MAAM;IACd,MAAMU,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,kCAAkC,CAAC;QAClEH,YAAY,CAACE,MAAM,CAACE,IAAI,CAAC;MAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IACDJ,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EACN,IAAI,CAACF,SAAS,EAAE;IACd,oBAAOH,OAAA;MAAAW,QAAA,EAAG;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EACpC;EACA,MAAMP,IAAI,GAAG;IACXQ,MAAM,EAAEb,SAAS,CAACc,iBAAiB,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC;IAC1DC,QAAQ,EAAE,CACR;MACEb,IAAI,EAAEL,SAAS,CAACc,iBAAiB,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACG,KAAK,CAAC;MACzDC,eAAe,EAAE,CACf,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS;IAEb,CAAC;EAEL,CAAC;EACD,oBACEvB,OAAA,CAACH,SAAS;IAAC2B,SAAS,EAAC,MAAM;IAAAb,QAAA,gBACzBX,OAAA;MAAAW,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBf,OAAA,CAACF,GAAG;MAACU,IAAI,EAAEA;IAAK;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEhB,CAAC;AAACb,EAAA,CAlDID,SAAS;AAAAwB,EAAA,GAATxB,SAAS;AAmDf,eAAeA,SAAS;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}